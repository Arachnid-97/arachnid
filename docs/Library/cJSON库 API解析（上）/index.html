<!-- build time:Sat Feb 04 2023 12:51:14 GMT+0800 (中国标准时间) --><!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="命运转轮" href="https://arachnid.cc/rss.xml"><link rel="alternate" type="application/atom+xml" title="命运转轮" href="https://arachnid.cc/atom.xml"><link rel="alternate" type="application/json" title="命运转轮" href="https://arachnid.cc/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="history,JSON"><link rel="canonical" href="https://arachnid.cc/docs/Library/cJSON%E5%BA%93%20API%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%8A%EF%BC%89/"><title>cJSON 库 API 解析（上） - middleware | Arachnid's blog = 命运转轮 = Life is ...the time you did something you're afraid of doing</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">cJSON 库 API 解析（上）</h1><div class="meta"><span class="item" title="创建时间：2021-01-29 23:54:23"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-01-29T23:54:23+08:00">2021-01-29</time> </span><span class="item" title="本文字数"><span class="icon"><i class="ic i-pen"></i> </span><span class="text">本文字数</span> <span>7.9k</span> <span class="text">字</span> </span><span class="item" title="阅读时长"><span class="icon"><i class="ic i-clock"></i> </span><span class="text">阅读时长</span> <span>8 分钟</span></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Arachnid's blog</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://arachnid.cc/picture/(32).webp"></li><li class="item" data-background-image="https://arachnid.cc/picture/(18).webp"></li><li class="item" data-background-image="https://arachnid.cc/picture/(5).webp"></li><li class="item" data-background-image="https://arachnid.cc/picture/(17).webp"></li><li class="item" data-background-image="https://arachnid.cc/picture/(8).webp"></li><li class="item" data-background-image="https://arachnid.cc/picture/(15).webp"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/middleware/" itemprop="item" rel="index" title="分类于 middleware"><span itemprop="name">middleware</span></a><meta itemprop="position" content="1"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://arachnid.cc/docs/Library/cJSON%E5%BA%93%20API%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%8A%EF%BC%89/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="夏沫の浅雨"><meta itemprop="description" content="Life is ...the time you did something you're afraid of doing, 不曾亏欠，不曾辜负，如此足矣"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="命运转轮"></span><div class="body md" itemprop="articleBody"><blockquote><p>cJSON 项目可以说是一个很适合学习及应用 C 语言中的链表的项目，刨析它的源码，你会惊叹它设计之巧妙，其代码为之简洁；同时，在嵌入式应用场景中也经常发现它的身影。</p><p>本系列分为上下两篇，其中上篇以应用分析其 JSON 数据封装为主。</p></blockquote><h1 id="介绍"><a class="anchor" href="#介绍">#</a> 介绍</h1><p>在认识 cJSON 之前，先来认识一下 JSON：</p><p><strong>JSON</strong>（<strong>J</strong>ava<strong>S</strong>cript <strong>O</strong>bject <strong>N</strong>otation，JavaScript 对象表示法，读作 /ˈdʒeɪsən/）是一种由道格拉斯・克罗克福特构想和设计、轻量级的资料交换语言，该语言以易于让人阅读的文字为基础，用来传输由属性值或者序列性的值组成的数据对象。JSON 采用完全独立于语言的文本格式，但是也使用了类似于 C 语言家族的习惯（包括 C, C++, C#, Java, JavaScript, Perl, Python 等）。 这些特性使 JSON 成为理想的数据交换语言。</p><p>其官网：<span class="exturl" data-url="aHR0cHM6Ly93d3cuanNvbi5vcmcvanNvbi1lbi5odG1s">https://www.json.org/json-en.html</span></p><p>而 cJSON，顾名思义就是一个使用 C 语言编写的 JSON 数据解析器，目前 cJSON 项目托管在 Github 上，仓库地址如下：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0RhdmVHYW1ibGUvY0pTT04lRUYlQkMlOUIlRTQlQkIlQTUlRTUlODklOEQlRTclOUElODQlRTYlOTclQTclRTclODklODglRTYlOUMlQUMlRTUlODglOTklRTYlOTglQUYlRTUlQUQlOTglRTYlOTQlQkUlRTUlOUMlQTglRUYlQkMlOUFodHRwczovL3NvdXJjZWZvcmdlLm5ldC9wcm9qZWN0cy9janNvbi9maWxlcy8lRTQlQjglOEElRTklOUQlQTIlRUYlQkMlOEMlRTQlQkQlODYlRTclOEUlQjAlRTUlQjclQjIlRTUlODElOUMlRTYlQUQlQTIlRTYlOUIlQjQlRTYlOTYlQjAlRUYlQkMlOEMlRTclQkIlQTclRTglODAlOEMlRTglQkQlQUMlRTUlODglQjA=">https://github.com/DaveGamble/cJSON；以前的旧版本则是存放在：https://sourceforge.net/projects/cjson/files/ 上面，但现已停止更新，继而转到</span> Github 上了。</p><h1 id="json语法"><a class="anchor" href="#json语法">#</a> JSON 语法</h1><p>JSON 的基本数据类型：</p><ol><li><p>对象（<em>object</em>）：若干无序的 “键值对” (key-value pairs)，其中键是数值或字符串，以花括号 <code>&#123;</code> 开始，并以 <code>&#125;</code> 结束。</p></li><li><p>数组 / 值的有序列表（array）：有序的零个或者多个值，使用方括号 <code>[ ]</code> 括起来。</p></li><li><p>字符串（<em>string</em>）：以双引号 <code>&quot; &quot;</code> 括起来的零个或多个 Unicode 码位。支持反斜杠开始的转义字符序列。</p></li><li><p>数值（<em>number</em>）：不区分整数与浮点数。JavaScript 用双精度浮点数 double 表示所有数值。</p></li><li><p>布尔值（<em>boolean</em>）：表示为 <code>true</code> 或者 <code>false</code> 。</p></li><li><p>null 类型：值写为 <code>null</code></p></li></ol><p>1、JSON 对象是一个若干无序的 &quot;名称 / 值&quot; 键值对的集合：</p><ul><li>以 &quot; <code>&#123;</code> &quot;开始，以&quot; <code>&#125;</code> &quot; 结束，允许嵌套使用；</li><li>每个名称和值成对出现，名称和值之间使用 &quot; <code>:</code> &quot; 分隔；</li><li>键值对之间用 &quot; <code>,</code> &quot; 分隔</li><li>在这些字符前后允许存在无意义的空白符；</li></ul><p>2、JSON 数组是一个有序的零个或者多个值的序列表：</p><ul><li>以 &quot; <code>[</code> &quot;开始，以&quot; <code>]</code> &quot; 结束，允许嵌套使用；</li><li>每个值可以为任意类型，可以是双引号括起来的字符串（<em>string</em>）、数值（<em>number</em>）、 <code>true</code> 、 <code>false</code> 、 <code>null</code> 、对象（<em>object</em>）或者数组（<em>array</em>）；</li><li>元素之间用 &quot; <code>,</code> &quot; 分隔</li><li>在这些元素前后允许存在无意义的空白符；</li></ul><h1 id="cjson结构"><a class="anchor" href="#cjson结构">#</a> cJSON 结构</h1><p>在下载的 cJSON 源码中，实际用到的文件只有两个（cJSON.c 和 cJSON.h），因此 cJSON 具有超轻便，可移植，单文件的特点。</p><p>对于 cJSON 文件，整个的数据结构就主要用到以下结构体：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/* The cJSON structure: */</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">typedef</span> <span class="token keyword">struct</span> <span class="token class-name">cJSON</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token comment">/* next/prev allow you to walk array/object chains. Alternatively, use GetArraySize/GetArrayItem/GetObjectItem */</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">struct</span> <span class="token class-name">cJSON</span> <span class="token operator">*</span>next<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">struct</span> <span class="token class-name">cJSON</span> <span class="token operator">*</span>prev<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token comment">/* An array or object item will have a child pointer pointing to a chain of the items in the array/object. */</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">struct</span> <span class="token class-name">cJSON</span> <span class="token operator">*</span>child<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">/* The type of the item, as above. */</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">int</span> type<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token comment">/* The item's string, if type==cJSON_String  and type == cJSON_Raw */</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">char</span> <span class="token operator">*</span>valuestring<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token comment">/* writing to valueint is DEPRECATED, use cJSON_SetNumberValue instead */</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token keyword">int</span> valueint<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">/* The item's number, if type==cJSON_Number */</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">double</span> valuedouble<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token comment">/* The item's name string, if this item is the child of, or is in the list of subitems of an object. */</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">char</span> <span class="token operator">*</span>string<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span> cJSON<span class="token punctuation">;</span></pre></td></tr></table></figure><p>从上面的代码可以看出，cJSON 的设计思想是 --- 链表。</p><p>然后我们分析一下各部分的成员信息：</p><ul><li><code>type</code> ：用于表示该键值对中值的类型；</li><li><code>valuestring</code> ：如果键值类型 (type) 是字符串，则将该指针指向键值；</li><li><code>valueint</code> ：如果键值类型 (type) 是整数，则将该指针指向键值；</li><li><code>valuedouble</code> ：如果键值类型 (type) 是浮点数，则将该指针指向键值；</li><li><code>String</code> ：用于表示当前键值对的名称；</li></ul><p>还有两个 cJSON 格式的结构体指针：</p><ul><li><code>next</code> ：指向下一个键值对</li><li><code>prev</code> ：指向上一个键值对</li></ul><p>最后一个 cJSON 格式的结构体指针：</p><ul><li><code>child</code> ：该子指针指向当前数组 / 对象中的节点</li></ul><p>如果是想要分析 cJSON 它的代码设计，除开那两个承接上下节点的 <code>next</code> 和 <code>prev</code> 结构体指针，那么你还要重点关注上面说到 <code>type</code> 成员，它支持以下定义：</p><blockquote><p>The type can be one of the following:</p><ul><li><code>cJSON_Invalid</code> (check with <code>cJSON_IsInvalid</code> ): Represents an invalid item that doesn't contain any value. You automatically have this type if you set the item to all zero bytes.</li><li><code>cJSON_False</code> (check with <code>cJSON_IsFalse</code> ): Represents a <code>false</code> boolean value. You can also check for boolean values in general with <code>cJSON_IsBool</code> .</li><li><code>cJSON_True</code> (check with <code>cJSON_IsTrue</code> ): Represents a <code>true</code> boolean value. You can also check for boolean values in general with <code>cJSON_IsBool</code> .</li><li><code>cJSON_NULL</code> (check with <code>cJSON_IsNull</code> ): Represents a <code>null</code> value.</li><li><code>cJSON_Number</code> (check with <code>cJSON_IsNumber</code> ): Represents a number value. The value is stored as a double in <code>valuedouble</code> and also in <code>valueint</code> . If the number is outside of the range of an integer, <code>INT_MAX</code> or <code>INT_MIN</code> are used for <code>valueint</code> .</li><li><code>cJSON_String</code> (check with <code>cJSON_IsString</code> ): Represents a string value. It is stored in the form of a zero terminated string in <code>valuestring</code> .</li><li><code>cJSON_Array</code> (check with <code>cJSON_IsArray</code> ): Represent an array value. This is implemented by pointing <code>child</code> to a linked list of <code>cJSON</code> items that represent the values in the array. The elements are linked together using <code>next</code> and <code>prev</code> , where the first element has <code>prev.next == NULL</code> and the last element <code>next == NULL</code> .</li><li><code>cJSON_Object</code> (check with <code>cJSON_IsObject</code> ): Represents an object value. Objects are stored same way as an array, the only difference is that the items in the object store their keys in <code>string</code> .</li><li><code>cJSON_Raw</code> (check with <code>cJSON_IsRaw</code> ): Represents any kind of JSON that is stored as a zero terminated array of characters in <code>valuestring</code> . This can be used, for example, to avoid printing the same static JSON over and over again to save performance. cJSON will never create this type when parsing. Also note that cJSON doesn't check if it is valid JSON.</li></ul><p>Additionally there are the following two flags:</p><ul><li><code>cJSON_IsReference</code> : Specifies that the item that <code>child</code> points to and/or <code>valuestring</code> is not owned by this item, it is only a reference. So <code>cJSON_Delete</code> and other functions will only deallocate this item, not its <code>child</code> / <code>valuestring</code> .</li><li><code>cJSON_StringIsConst</code> : This means that <code>string</code> points to a constant string. This means that <code>cJSON_Delete</code> and other functions will not try to deallocate <code>string</code> .</li></ul></blockquote><p>&lt;br/&gt;</p><h1 id="json数据封装"><a class="anchor" href="#json数据封装">#</a> JSON 数据封装</h1><p>封装一个 JSON 格式的数据包，其实就是创建链表和向链表中添加节点的过程。</p><p>在 cJSON 源码里面是存放着很多 API 接口的，但是，一般来说我们并不是全部用到，而且有些函数是辅助函数，例如：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre>cJSON <span class="token operator">*</span>Info<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>Info <span class="token operator">=</span> <span class="token function">cJSON_CreateObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">cJSON_AddStringToObject</span><span class="token punctuation">(</span>Info<span class="token punctuation">,</span> <span class="token string">"Nationality"</span><span class="token punctuation">,</span> <span class="token string">"China"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">/* 等价于 */</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>cJSON <span class="token operator">*</span>Info<span class="token punctuation">,</span> <span class="token operator">*</span>jtext<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>Info <span class="token operator">=</span> <span class="token function">cJSON_CreateObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>jtext <span class="token operator">=</span> <span class="token function">cJSON_CreateString</span><span class="token punctuation">(</span><span class="token string">"China"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token function">cJSON_AddItemToObject</span><span class="token punctuation">(</span>Info<span class="token punctuation">,</span> <span class="token string">"Nationality"</span><span class="token punctuation">,</span> jtext<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>然后下面就分析一些常用的 API 函数：</p><p><strong>1、创建原始框架：</strong></p><ul><li>数组（等于创建了一个空的 <code>[ ]</code> ）： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateArray(void);</code></li><li>对象（等于创建了一个空的 <code>&#123; &#125;</code> ）： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateObject(void);</code></li></ul><p><strong>2、追加类型值：</strong></p><ul><li><p>数组： <code>CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToArray(cJSON *array, cJSON *item);</code></p></li><li><p>对象： <code>CJSON_PUBLIC(cJSON_bool) cJSON_AddItemToObject(cJSON *object, const char *string, cJSON *item);</code></p></li></ul><p><strong>3、追加对应的值到对象中：</strong></p><ul><li>null： <code>CJSON_PUBLIC(cJSON*) cJSON_AddNullToObject(cJSON * const object, const char * const name);</code></li><li>True： <code>CJSON_PUBLIC(cJSON*) cJSON_AddTrueToObject(cJSON * const object, const char * const name);</code></li><li>False： <code>CJSON_PUBLIC(cJSON*) cJSON_AddFalseToObject(cJSON * const object, const char * const name);</code></li><li>布尔值（实际为 True 和 False 合并）： <code>CJSON_PUBLIC(cJSON*) cJSON_AddBoolToObject(cJSON * const object, const char * const name, const cJSON_bool boolean);</code></li><li>数值： <code>CJSON_PUBLIC(cJSON*) cJSON_AddNumberToObject(cJSON * const object, const char * const name, const double number);</code></li><li>字符串： <code>CJSON_PUBLIC(cJSON*) cJSON_AddStringToObject(cJSON * const object, const char * const name, const char * const string);</code></li><li>对象： <code>CJSON_PUBLIC(cJSON*) cJSON_AddObjectToObject(cJSON * const object, const char * const name);</code></li><li>数组： <code>CJSON_PUBLIC(cJSON*) cJSON_AddArrayToObject(cJSON * const object, const char * const name);</code></li></ul><p><strong>4、创建同一类型的值到数组中：</strong></p><ul><li>整形： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateIntArray(const int *numbers, int count);</code></li><li>单精度： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateFloatArray(const float *numbers, int count);</code></li><li>双精度： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateDoubleArray(const double *numbers, int count);</code></li><li>字符串： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateStringArray(const char *const *strings, int count);</code></li></ul><p><strong>5、创建对应类型的值</strong></p><ul><li>null： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateNull(void);</code></li><li>True： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateTrue(void);</code></li><li>False： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateFalse(void);</code></li><li>布尔值： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateBool(cJSON_bool boolean);</code></li><li>数值： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateNumber(double num);</code></li><li>字符串： <code>CJSON_PUBLIC(cJSON *) cJSON_CreateString(const char *string);</code></li></ul><h1 id="示例"><a class="anchor" href="#示例">#</a> 示例</h1><figure class="highlight json"><figcaption data-lang="JSON"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"cJSON"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"v1.7.14"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token property">"file"</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"cJSON.c"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token property">"size"</span><span class="token operator">:</span> <span class="token number">75.8</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token property">"unit"</span><span class="token operator">:</span> <span class="token string">"KB"</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token property">"released"</span><span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token number">2020</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token string">"Sep"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token number">3</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token property">"latest"</span><span class="token operator">:</span> <span class="token boolean">true</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>以打印输出上面为例，建立以下代码：</p><figure class="highlight c"><figcaption data-lang="c"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h></span></span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">"cJSON.h"</span></span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span> <span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token operator">*</span>argv<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    cJSON <span class="token operator">*</span>jtest <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    cJSON <span class="token operator">*</span>jfile <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    cJSON <span class="token operator">*</span>jissue <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    cJSON <span class="token operator">*</span>jyear <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    cJSON <span class="token operator">*</span>jmonth <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    cJSON <span class="token operator">*</span>jday <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">char</span><span class="token operator">*</span> str <span class="token operator">=</span> <span class="token constant">NULL</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">/* 创建一个 JSON 格式的主对象 (主链表头结点) */</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    jtest <span class="token operator">=</span> <span class="token function">cJSON_CreateObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token comment">/* 追加字符串类型的 JSON 数据到主对象中 (添加一个链表节点) */</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token function">cJSON_AddStringToObject</span><span class="token punctuation">(</span>jtest<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"cJSON"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token function">cJSON_AddStringToObject</span><span class="token punctuation">(</span>jtest<span class="token punctuation">,</span> <span class="token string">"version"</span><span class="token punctuation">,</span> <span class="token string">"v1.7.14"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="22"></td><td><pre></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token comment">/* 追加一个对象到主对象中 (添加一个链表节点) */</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    jfile <span class="token operator">=</span> <span class="token function">cJSON_AddObjectToObject</span><span class="token punctuation">(</span>jtest<span class="token punctuation">,</span> <span class="token string">"file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token comment">/* 往追加的对象添加对应的值 */</span></pre></td></tr><tr><td data-num="26"></td><td><pre>    <span class="token function">cJSON_AddStringToObject</span><span class="token punctuation">(</span>jfile<span class="token punctuation">,</span> <span class="token string">"name"</span><span class="token punctuation">,</span> <span class="token string">"cJSON.c"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token function">cJSON_AddNumberToObject</span><span class="token punctuation">(</span>jfile<span class="token punctuation">,</span> <span class="token string">"size"</span><span class="token punctuation">,</span> <span class="token number">75.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token function">cJSON_AddStringToObject</span><span class="token punctuation">(</span>jfile<span class="token punctuation">,</span> <span class="token string">"unit"</span><span class="token punctuation">,</span> <span class="token string">"KB"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>    </pre></td></tr><tr><td data-num="30"></td><td><pre>    <span class="token comment">/* 创建一个 JSON 格式的数组 (另一个链表头结点) */</span></pre></td></tr><tr><td data-num="31"></td><td><pre>    jissue <span class="token operator">=</span> <span class="token function">cJSON_CreateArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token comment">/* 创建相应的值并把这些值添加到数组里 */</span></pre></td></tr><tr><td data-num="33"></td><td><pre>    jyear <span class="token operator">=</span> <span class="token function">cJSON_CreateNumber</span><span class="token punctuation">(</span><span class="token number">2020</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="34"></td><td><pre>    <span class="token function">cJSON_AddItemToArray</span><span class="token punctuation">(</span>jissue<span class="token punctuation">,</span> jyear<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>    jmonth <span class="token operator">=</span> <span class="token function">cJSON_CreateString</span><span class="token punctuation">(</span><span class="token string">"Sep"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token function">cJSON_AddItemToArray</span><span class="token punctuation">(</span>jissue<span class="token punctuation">,</span> jmonth<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>    jday <span class="token operator">=</span> <span class="token function">cJSON_CreateNumber</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="38"></td><td><pre>    <span class="token function">cJSON_AddItemToArray</span><span class="token punctuation">(</span>jissue<span class="token punctuation">,</span> jday<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token comment">/* 把已经填好的数据的数组插入到主对象中 */</span></pre></td></tr><tr><td data-num="40"></td><td><pre>    <span class="token function">cJSON_AddItemToObject</span><span class="token punctuation">(</span>jtest<span class="token punctuation">,</span> <span class="token string">"released"</span><span class="token punctuation">,</span> jissue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre></pre></td></tr><tr><td data-num="42"></td><td><pre>    <span class="token comment">/* 追加一个值为 True 的布尔类型的 JSON 数据到主对象中 (添加一个链表节点) */</span></pre></td></tr><tr><td data-num="43"></td><td><pre>    <span class="token function">cJSON_AddTrueToObject</span><span class="token punctuation">(</span>jtest<span class="token punctuation">,</span> <span class="token string">"latest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre></pre></td></tr><tr><td data-num="45"></td><td><pre>    <span class="token comment">/* 打印 JSON 对象 (整条链表) 的所有数据 */</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    str <span class="token operator">=</span> <span class="token function">cJSON_Print</span><span class="token punctuation">(</span>jtest<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%s\n"</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="48"></td><td><pre></pre></td></tr><tr><td data-num="49"></td><td><pre>    <span class="token function">cJSON_free</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>    <span class="token function">cJSON_Delete</span><span class="token punctuation">(</span>jtest<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre>    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="53"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>实例：</p><p><img data-src="image-20210130174615600.png" alt="image-20210130174615600"></p><h1 id="注意事项"><a class="anchor" href="#注意事项">#</a> 注意事项</h1><p>1、在调用了 create 接口的数据，并且用完一个完整的 JSON 格式包后，必须要使用 cJSON_Delete (); 释放内存，且不说不释放会造成泄露数据，在嵌入式中，内存容量可是很少的，很容易就耗完内存。</p><p>2、cJSON_Delete (); 函数，并不是每调用一个 create 接口，等用完都要一一对应释放，而是要释放主链表，简单的来说要处理的是头一个创建的数据类型，对于后期往其追加的数据，cJSON_Delete (); 函数会自动把插入进来的节点删除掉，这个在下篇再详细分析。</p><p>3、cJSON 里面的 Print 接口格式化出来返回的数据，需要调用 cJSON_free (); 释放。cJSON 的内存申请涉及到初始化钩子函数 cJSON_InitHooks (); 那里，这个也是下篇分析。</p><div class="tags"><a href="/tags/history/" rel="tag"><i class="ic i-tag"></i> history</a> <a href="/tags/JSON/" rel="tag"><i class="ic i-tag"></i> JSON</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2022-05-01 21:43:27" itemprop="dateModified" datetime="2022-05-01T21:43:27+08:00">2022-05-01</time></span><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="docs/Library/cJSON库 API解析（上）/" class="item leancloud_visitors" data-flag-title="cJSON 库 API 解析（上）" title="阅读次数"><span class="icon"><i class="ic i-eye"></i> </span><span class="text">阅读次数</span> <span id="busuanzi_value_page_pv"></span> <span class="text">次</span></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="夏沫の浅雨 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="夏沫の浅雨 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>夏沫の浅雨 <i class="ic i-at"><em>@</em></i>命运转轮</li><li class="link"><strong>本文链接：</strong> <a href="https://arachnid.cc/docs/Library/cJSON%E5%BA%93%20API%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%8A%EF%BC%89/" title="cJSON 库 API 解析（上）">https://arachnid.cc/docs/Library/cJSON库 API解析（上）/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/docs/RTOS/FreeRTOS%20%E7%AF%87%E7%AB%A0%E4%B9%8B%E4%BB%BB%E5%8A%A1%E9%80%9A%E7%9F%A5/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;arachnid.cc&#x2F;picture&#x2F;(32).webp" title="FreeRTOS 篇章之任务通知"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> FreeRTOS</span><h3>FreeRTOS 篇章之任务通知</h3></a></div><div class="item right"><a href="/docs/Library/cJSON%E5%BA%93%20API%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%8B%EF%BC%89/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;arachnid.cc&#x2F;picture&#x2F;(18).webp" title="cJSON库 API解析（下）"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> middleware</span><h3>cJSON库 API解析（下）</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#json%E8%AF%AD%E6%B3%95"><span class="toc-number">2.</span> <span class="toc-text">JSON 语法</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#cjson%E7%BB%93%E6%9E%84"><span class="toc-number">3.</span> <span class="toc-text">cJSON 结构</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#json%E6%95%B0%E6%8D%AE%E5%B0%81%E8%A3%85"><span class="toc-number">4.</span> <span class="toc-text">JSON 数据封装</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">5.</span> <span class="toc-text">示例</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">6.</span> <span class="toc-text">注意事项</span></a></li></ol></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/docs/Library/cJSON%E5%BA%93%20API%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%8A%EF%BC%89/" rel="bookmark" title="cJSON库 API解析（上）">cJSON库 API解析（上）</a></li><li><a href="/docs/Library/cJSON%E5%BA%93%20API%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%8B%EF%BC%89/" rel="bookmark" title="cJSON库 API解析（下）">cJSON库 API解析（下）</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="夏沫の浅雨" data-src="/images/avatar.jpg"><p class="name" itemprop="name">夏沫の浅雨</p><div class="description" itemprop="description">不曾亏欠，不曾辜负，如此足矣</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">53</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">5</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">17</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL0FyYWNobmlkLTk3" title="https:&#x2F;&#x2F;github.com&#x2F;Arachnid-97"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li><li class="item"><a href="/friends/" rel="section"><i class="ic i-heart"></i>友人帐</a></li><li class="item"><a href="/about/" rel="section"><i class="ic i-info-circle"></i>关于</a></li><li class="item"><a href="/atom.xml" rel="section"><i class="ic i-magic"></i>RSS</a></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/docs/RTOS/FreeRTOS%20%E7%AF%87%E7%AB%A0%E4%B9%8B%E4%BB%BB%E5%8A%A1%E9%80%9A%E7%9F%A5/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/docs/Library/cJSON%E5%BA%93%20API%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%8B%EF%BC%89/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"></div><span><a href="/docs/Linux/%E5%9F%BA%E4%BA%8E%E5%AE%98%E6%96%B9%E6%8C%87%E5%AF%BC%E5%AE%89%E8%A3%85%20Arch%20Linux/" title="基于官方指导安装 Arch Linux">基于官方指导安装 Arch Linux</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/docs/Essay/%E5%AF%B9%20C%20%E6%8C%87%E9%92%88%E7%9A%84%E7%90%86%E8%A7%A3/" title="对 C 指针的理解">对 C 指针的理解</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/docs/Linux/Ubuntu%E4%B8%8B%20FTP%E7%9A%84%E6%90%AD%E5%BB%BA%E9%85%8D%E7%BD%AE/" title="Ubuntu下 FTP的搭建配置">Ubuntu下 FTP的搭建配置</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/modbus/" title="分类于 modbus">modbus</a></div><span><a href="/docs/%E9%80%9A%E8%AE%AF%E5%8D%8F%E8%AE%AE/Modbus%E5%AE%B6%E6%97%8F%E4%B9%8B%20RTU/" title="Modbus家族之 RTU">Modbus家族之 RTU</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/docs/Essay/C%20%E8%AF%AD%E8%A8%80%E7%BB%93%E6%9E%84%E4%BD%93%E5%A4%A7%E5%B0%8F%E5%8F%8A%E5%AF%B9%E9%BD%90%E9%97%AE%E9%A2%98/" title="C 语言结构体大小及对齐问题">C 语言结构体大小及对齐问题</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/docs/Essay/%E5%B7%AE%E5%88%86%E4%BC%A0%E8%BE%93%E5%8F%8A%E5%85%B6%E5%BA%94%E7%94%A8/" title="差分传输及其应用">差分传输及其应用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/RTOS/" title="分类于 FreeRTOS">FreeRTOS</a></div><span><a href="/docs/RTOS/FreeRTOS%20%E7%AF%87%E7%AB%A0%E4%B9%8B%E4%BA%8C%E5%80%BC%E4%BF%A1%E5%8F%B7%E9%87%8F/" title="FreeRTOS 篇章之二值信号量">FreeRTOS 篇章之二值信号量</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/RTOS/" title="分类于 FreeRTOS">FreeRTOS</a></div><span><a href="/docs/RTOS/FreeRTOS%20%E7%AF%87%E7%AB%A0%E4%B9%8B%20heap%E5%A0%86%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E5%88%86%E6%9E%90/" title="FreeRTOS 篇章之 heap堆内存分配分析">FreeRTOS 篇章之 heap堆内存分配分析</a></span></li><li class="item"><div class="breadcrumb"></div><span><a href="/docs/RTOS/RT-Thread%20%E5%BA%94%E7%94%A8%E6%80%BB%E7%BB%93/" title="RT-Thread 应用总结">RT-Thread 应用总结</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/modbus/" title="分类于 modbus">modbus</a></div><span><a href="/docs/%E9%80%9A%E8%AE%AF%E5%8D%8F%E8%AE%AE/Modbus%E5%AE%B6%E6%97%8F%E4%B9%8B%E5%BC%80%E7%AF%87/" title="Modbus家族之开篇">Modbus家族之开篇</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2022 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">夏沫の浅雨 @ Arachnid's blog</span></div><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="count"><span class="icon"><i class="ic i-person"></i> <span id="busuanzi_value_site_uv"></span>人 <span class="post-meta-divider">|</span> <span class="icon"><i class="ic i-eye"></i> <span id="busuanzi_value_site_pv"></span>次 <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-chart-area"></i> </span><span title="站点总字数">361k 字</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="ic i-coffee"></i> </span><span title="站点阅读时长">6:08</span></span></span></div><div class="create_time"><span class="icon"><i class="ic i-clock"></i> <span id="timeDate">正在加载</span> <span id="times">...</span><script>function createtime(){var n=new Date("04/28/2022 15:45:50");now.setTime(now.getTime()+250),days=(now-n)/1e3/60/60/24,dnum=Math.floor(days),hours=(now-n)/1e3/60/60-24*dnum,hnum=Math.floor(hours),1==String(hnum).length&&(hnum="0"+hnum),minutes=(now-n)/1e3/60-1440*dnum-60*hnum,mnum=Math.floor(minutes),1==String(mnum).length&&(mnum="0"+mnum),seconds=(now-n)/1e3-86400*dnum-3600*hnum-60*mnum,snum=Math.round(seconds),1==String(snum).length&&(snum="0"+snum),document.getElementById("timeDate").innerHTML=" 本站存活 "+dnum+" 天 ",document.getElementById("times").innerHTML=hnum+" 小时 "+mnum+" 分 "+snum+" 秒"}var now=new Date;setInterval("createtime()",250)</script></span></div><div class="powered-by">Powered-by <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"docs/Library/cJSON库 API解析（上）/",favicon:{show:"ψ(｀∇´)ψ 欢迎回来!",hide:"《原子弹入门及制造》"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script async src="/js/sakura-small.js"></script><script src="/js/combined-file.js"></script><script src="/js/app.js?v=0.2.5"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/hijiki.model.json"},display:{position:"right",width:210,height:380,hOffset:50,vOffset:-25},mobile:{show:!1,scale:.5},react:{opacityDefault:.7,opacityOnHover:.8},log:!1})</script></body></html><!-- rebuild by hrmmi -->